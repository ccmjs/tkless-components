(()=>{const component={name:"app_collection",version:[2,5,1],ccm:"https://ccmjs.github.io/ccm/versions/ccm-27.4.2.min.js",config:{css:["ccm.load","https://ccmjs.github.io/tkless-components/app_collection/resources/styles.min.css"],footer:[],helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-8.4.2.min.mjs"],html:["ccm.load","https://ccmjs.github.io/tkless-components/app_collection/resources/templates.mjs"],sections:[]},Instance:function(){let $;this.ready=async()=>{$=Object.assign({},this.ccm.helper,this.helper);$.use(this.ccm);this.routing&&this.routing.define({home:(i,j)=>render(parseInt(i),parseInt(j))});this.dark==="auto"&&this.element.classList.add("dark_auto");this.dark===true&&this.element.classList.add("dark_mode");this.color&&this.element.style.setProperty("--section-bg",this.color);this.logger&&this.logger.log("ready",$.privatize(this,true))};this.start=async()=>{this.logger&&this.logger.log("start");this.html.render(this.html.main(this,onClick),this.element);if(this.routing&&this.routing.get())await this.routing.refresh();else await render();if(this.lang){this.lang.translate();!this.lang.getContext()&&$.append(this.element.querySelector("header > div:last-child"),this.lang.root)}this.user&&$.append(this.element.querySelector("header > div:last-child"),this.user.root)};const onClick=async(i,j)=>{const entry=i&&(!j?this.footer[i-1]:this.sections[i-1].entries[j-1]);if(entry&&!entry.ignore)return;if(entry&&typeof entry.ignore==="string"&&entry.ignore.startsWith("http")&&!await $.appDependency(entry.ignore))window.open(entry.ignore);else if(entry&&typeof entry.ignore==="string"&&entry.ignore.startsWith("mailto"))window.location.href=entry.ignore;else{this.routing&&this.routing.set("home"+(i?"-"+i+(j?"-"+j:""):""));await render(i,j)}};const render=async(i,j)=>{let element=this.element.querySelector("main");$.setContent(element,$.loading());this.html.render(this.html.headline(this.title,i&&this[j?"sections":"footer"][i-1].title,j&&this.sections[i-1].entries[j-1].title),this.element.querySelector("#headline"));if(!i){$.replace(element,element=element.cloneNode());this.html.render(this.html.home(this,onClick),element)}else{const entry=!j?this.footer[i-1]:this.sections[i-1].entries[j-1];if(!Array.isArray(entry.ignore)||$.isDependency(entry.ignore))entry.ignore=[entry.ignore];entry.ignore=await Promise.all(entry.ignore.map((app=>$.isInstance(app)?app:$.appDependency(app).then((app=>$.solveDependency(app,this))))));element.innerHTML="";entry.ignore.forEach((content=>$.append(element,$.isInstance(content)?content.root:$.html(content))))}}}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||[""])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){(c="latest"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();
//# sourceMappingURL=ccm.app_collection-2.5.1.min.js.map